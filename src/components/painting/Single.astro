---
import type { ImageMetadata } from "astro";
import { Picture } from "astro:assets";

interface Props {
  painting: {
    id: string;
    title: string;
    filename: ImageMetadata;
    year: number;
    width: number;
    height: number;
  };
}

const { painting } = Astro.props;
const { id, title, year, width, height, filename } = painting;
---

<article
  id={id}
  class="grid h-full snap-start content-center sm:grid-cols-2 sm:items-center sm:justify-items-center"
>
  <Picture
    src={filename}
    formats={["avif", "webp"]}
    alt={title}
    class="mx-auto object-contain"
    pictureAttributes={{ class: "flex max-h-full overflow-hidden" }}
  />
  <header class="mt-2 w-full md:mt-0">
    <h1
      class="text-center text-2xl text-gray-900 sm:mb-8 sm:text-3xl xl:text-4xl"
    >
      {title}
    </h1>
    <p class="flex flex-row gap-2 sm:text-lg md:text-xl">
      <span class="basis-full text-right tracking-widest text-amber-800"
        >Ann√©e:</span
      >
      <span class="basis-full text-left text-gray-900"
        ><time datetime={String(year)}>{year === 0 ? "NC" : year}</time></span
      >
    </p>
    <p class="flex flex-row gap-2 sm:text-lg md:text-xl">
      <span class="basis-full text-right tracking-widest text-amber-800"
        >Hauteur:</span
      >
      <span class="basis-full text-left text-gray-900"
        >{height === 0 ? "NC" : height + " cm"}</span
      >
    </p>
    <p class="flex flex-row gap-2 sm:text-lg md:text-xl">
      <span class="basis-full text-right tracking-widest text-amber-800"
        >Largeur:</span
      >
      <span class="basis-full text-left text-gray-900"
        >{width === 0 ? "NC" : width + " cm"}</span
      >
    </p>
  </header>
  <slot />
</article>

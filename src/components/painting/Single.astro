---
import type { ImageMetadata } from "astro"
import { Picture } from "astro:assets"

interface Props {
  painting: {
    id: string
    title: string
    filename: ImageMetadata
    year: number
    width: number
    height: number
  }
}

const { painting } = Astro.props
const { id, title, year, width, height, filename } = painting
---

<article
  id={id}
  class="grid h-full snap-start content-center landscape:grid-cols-2 landscape:items-center landscape:justify-items-center"
>
  <a href={filename.src} title="Afficher l'image en plein écran">
    <Picture
      src={filename}
      formats={["avif", "webp"]}
      alt={title}
      class="mx-auto object-contain"
      pictureAttributes={{
        class: "flex max-h-full min-h-[200px] min-w-[200px]",
      }}
    />
  </a>
  <header class="mt-2 w-full sm:mt-4 md:mt-0">
    <h1 class="mb-3 text-center text-gray-900 ~text-2xl/4xl md:mb-8">
      {title}
    </h1>
    <p class="flex flex-row gap-2 ~text-base/xl">
      <span class="basis-full text-right tracking-widest text-amber-800">Année:</span>
      <span class="basis-full text-left"><time datetime={String(year)}>{year === 0 ? "NC" : year}</time></span>
    </p>
    <p class="flex flex-row gap-2 ~text-base/xl">
      <span class="basis-full text-right tracking-widest text-amber-800">Hauteur:</span>
      <span class="basis-full text-left">{height === 0 ? "NC" : height + " cm"}</span>
    </p>
    <p class="flex flex-row gap-2 ~text-base/xl">
      <span class="basis-full text-right tracking-widest text-amber-800">Largeur:</span>
      <span class="basis-full text-left">{width === 0 ? "NC" : width + " cm"}</span>
    </p>
  </header>
  <slot />
</article>
